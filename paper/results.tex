% vim:set et sw=2 ts=4 tw=72:
% Jun 24, 2017

In this section, we look at the aggreated results from the user study,
and perform some analysis on those results. In the discussion section,
we will further investigate potential reasons behind why various tests
passed or failed.

\subsection{Conceptual Questions Results}

% TODO: make plots showing distribution of times and responses

% Number of commits in the merge tree - Make a plot of this
% | text              | hash      | median |    mean | variance | Actual |
% |-------------------+-----------+--------+---------+----------+--------|
% | Number of commits | a3c1239eb |      4 | 19.1111 | 735.1111 |      1 |
% | Number of commits | cdbdd1676 |      4 |     7.8 | 136.8444 |      5 |
% | Number of merges  | a3c1239eb |      5 |  8.2727 |  53.6182 |      1 |
% | Number of merges  | cdbdd1676 |    3.5 |     5.4 |  50.2667 |      3 |
% Time taken to arrive at these results
% | text              | hash      | median(s) |  mean(s) | variance(s) |
% |-------------------+-----------+-----------+----------+-------------|
% | Number of commits | a3c1239eb |      10.0 |  49.9167 |   5952.0833 |
% | Number of merges  | a3c1239eb |       7.5 |  24.6667 |    884.4242 |
% | Number of commits | cdbdd1676 |      31.5 | 106.8333 |  54123.4242 |
% | Number of merges  | cdbdd1676 |      11.0 |     65.5 |  29798.8182 |

In Table~\ref{tab:conceptual_results}, we are able to see an overview of
the results from the conceptual questions.

\begin{table*}[htpb]
  \centering
  \caption{Results from the conceptual questions}
  \label{tab:conceptual_results}
  \begin{tabular}{ll|r|lrr|rrr}
    Question                      & Commit & Answer & Median & Mean  & Variance & Median(s) & Mean(s) & Variance(s)\\\hline\hline
    Number of commits in the tree & \comA  & 1      & 4      & 19.11 & 753.11   & 10.0      & 49.92   & 5952.08\\
    Number of merges in the tree  & \comA  & 1      & 5      & 8.27  & 53.62    & 7.5       & 24.67   & 884.42\\\hline
    Number of commits in the tree & \comB  & 5      & 4      & 7.80  & 136.84   & 31.5      & 106.83  & 54123.42\\
    Number of merges in the tree  & \comB  & 3      & 3.5    & 5.40  & 50.27    & 11.0      & 65.6    & 29798.82\\
  \end{tabular}
\end{table*}

Users were able to more closely estimate the number of commits and
merges in the larger tree, but generally took longer than the smaller
tree. The tree with a single node resulted in more variability in the
estimate of number of commits .

It should be noted that these questions were answered after spending
roughly ten minutes attesting to draw a picture that held the answers to
these questions.

\subsection{Summarization Question Results}

We will look at the results from each question, and then look at the
combined results to determine the correctness of the answers provided by
the participants.

With the McNemar's tests, we analyze the participants that change from
being correct with one tool to being incorrect with the other. This does
not take into account the number of people who were able to provide the
correct answer for both tools, nor the people who were incorrect for both
tools. The results are an aggregation over all participants and both
commits analyzing the difference between \tool and gitk in the ability
to assist user comprehension.

All questions from the study, with the exception of the questions
regarding which modules are changed in a merge tree, show conclude with
rejecting the null hypothesis that there is no difference in correctness
when using gitk versus \tool. We do not see a change in these
conclusions if we include continuity correction in the McNemar test.
Further explanations of the correctness results are found in the
following subsections.

In Table~\ref{tab:summarization_timing}, we see the timing metrics taken
across all users, and both commits. We then further break the results by
separating the commits by which commit tree it came from in
Table~\ref{tab:summarization_timing_cid}, but do not see tremendous
differences between the commits.

\begin{table}[htpb]
  \centering
  \caption{Summarization task timing in seconds, aggregated over all study participants and both commits}
  \label{tab:summarization_timing}
  \begin{tabular}{r|c|rrr}
    Question                             & Tool   & Median(s) & Mean(s) & Variance(s) \\\hline
    \multirow{2}{*}{Series of Merges}    & Linvis & 8         & 18.1    & 617.5\\
                                         & Gitk   & 37        & 64.4    & 4349.8\\
    \multirow{2}{*}{Other Commits}       & Linvis & 14        & 19.8    & 349.5\\
                                         & Gitk   & 36        & 44.5    & 1471.3\\
    \multirow{2}{*}{Number of Authors}   & Linvis & 1         & 5.7     & 163.3\\
                                         & Gitk   & 11        & 41.5    & 5838.1\\
    \multirow{2}{*}{Biggest Contributor} & Linvis & 3         & 9.4     & 293.0\\
                                         & Gitk   & 11        & 40.9    & 3423.7\\
    \multirow{2}{*}{Number of Files}     & Linvis & 1         & 3.1     & 32.4\\
                                         & Gitk   & 15        & 34.9    & 4143.6\\
    \multirow{2}{*}{Most changed File}   & Linvis & 4         & 15.0    & 959.4\\
                                         & Gitk   & 14        & 48.4    & 3862.0\\
    \multirow{2}{*}{Involved Modules}    & Linvis & 4         & 5.6     & 19.4\\
                                         & Gitk   & 34        & 45.0    & 1703.4
  \end{tabular}
\end{table}

\begin{table*}[htpb]
  \centering
  \caption{Summarization task timings broken down by commit, aggregated over all study participants}
  \label{tab:summarization_timing_cid}
  \begin{tabular}{l|l|rrrr}
    Question                            & Commit & Linvis Median(s) & Gitk Median(s) & Linvis Variance(s) & Gitk Variance(s)\\\hline
    \multirow{2}{*}{Series of Merges}   & \comA  & 8.0              & 37.0           & 437.8              & 3144.5\\
                                        & \comB  & 9.0              & 48.5           & 802.8              & 5707.5\\
    \multirow{2}{*}{Other Commits}      & \comA  & 10.0             & 36.0           & 419.9              & 1513.6\\
                                        & \comB  & 14.5             & 31.0           & 316.3              & 1563.3\\
    \multirow{2}{*}{Number of Authors}  & \comA  & 2.0              & 11.0           & 23.2               & 1668.5\\
                                        & \comB  & 1.0              & 12.0           & 293.0              & 9789.8\\
    \multirow{2}{*}{Biggest Contributor}& \comA  & 2.0              & 6.0            & 1.9                & 2853.2\\
                                        & \comB  & 6.5              & 18.0           & 494.4              & 4154.6\\
    \multirow{2}{*}{Number of Files}    & \comA  & 1.0              & 19.0           & 31.0               & 489.7\\
                                        & \comB  & 1.5              & 8.5            & 36.4               & 7588.3\\
    \multirow{2}{*}{Most changed File}  & \comA  & 3.0              & 21.0           & 5.9                & 5343.4\\
                                        & \comB  & 4.0              & 10.0           & 1652.0             & 2696.0\\
    \multirow{2}{*}{Involved Modules}   & \comA  & 3.0              & 19.0           & 29.5               & 1946.2\\
                                        & \comB  & 4.5              & 39.5           & 12.1               & 1622.8\\
  \end{tabular}
\end{table*}

% We attempt to fit a normal distribution to both the timing and accuracy
% information, but there are not enough samples to accurately assess the
% parameterization of this data; we can see a strong shifted normal
% distribution forming for some questions
% (Figure~\ref{fig:q8_accuracy_density}), but others do not express this
% behaviour (Figure~\ref{fig:q3_accuracy_density}).

% \begin{figure}[htpb]
%   \centering
%   \includegraphics[page=2, width=0.8\linewidth]{figures/userstudy/accuracy/q8.pdf}
%   \caption{Density function compared to the fitted normal distribution,
%     showing the difference in correctness when using Gitk versus \tool
%     counting the number of files involved.
%     Negative values imply that participants were more accurate with
%     Gitk, positive values imply better accuracy with \tool.
%     }
%   \label{fig:q8_accuracy_density}
% \end{figure}

% \begin{figure}[htpb]
%   \centering
%   \includegraphics[page=2, width=0.8\linewidth]{figures/userstudy/accuracy/q3.pdf}
%   \caption{Comparing the density function, plotting the difference in
%     accuracy between responses provided by Gitk and Linvis. Responses
%     are answering the series of merges involved with merging a commit.}
%   \label{fig:q3_accuracy_density}
% \end{figure}

\subsubsection{What is the series of merges involved with merging this commit}
\label{ssub:what_is_the_series_of_merges_involved_with_merging_this_commit}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/correctness/question-3.pdf}
  \caption{Correctness of participants using \tool versus gitk
    when determining the series of merges involved with merging a given
  commit}
  \label{fig:q_3_correctness}
\end{figure}

In Figure~\ref{fig:q_3_correctness}, we analyze the number of instances
where people were correct and incorrect with \tool and with gitk, given
the task of providing the series of merges involved with merging a given
commit.

We further break the correctness information to show the instances where
the participant was correct with both tools, incorrect with both tools,
and went from being correct to incorrect, or incorrect to correct with a
given tool for the purpose of applying the McNemar test.

\begin{center}
  \begin{tabular}{cc|rr}
                           &           & \multicolumn{2}{c}{Linvis}\\
                           &           & Correct                      & Incorrect\\\hline
    \multirow{2}{*}{Gitk}  & Correct   & 6                            & 0\\
                           & Incorrect & 15                           & 2\\
  \end{tabular}
\end{center}

We can see from these results that in a majority of the test instances,
the participant provided an incorrect answer with Gitk, and a correct
answer with \tool. The resulting $\chi^2$ value is 15. $15 > 7.879$,
therefore we reject the null hypothesis that \tool does not make a
difference in the correctness, with $99.5\%$ confidence.

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/accuracy/q3.pdf}
  \caption{Accuracy comparison between Gitk and \tool, for determining
    the series of merges into the master branch of the repository.}
  \label{fig:q3_accuracy}
\end{figure}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/timing/q3.pdf}
  \caption{Time comparison between Gitk and \tool, for determining
    the series of merges into the master branch of the repository.}
  \label{fig:q3_timing}
\end{figure}

\subsubsection{What other commits are merged in this same merge tree}
\label{ssub:what_other_commits_are_merged_in_this_same_merge_tree}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/correctness/question-4.pdf}
  \caption{Correctness of participants using \tool versus gitk when
    determining which other commits are merged into the master branch
    with this commit}
  \label{fig:q_4_correctness}
\end{figure}

In Figure~\ref{fig:q_4_correctness}, we can see that there are more
instances of correct answers from the participants when they use \tool
than when they use Gitk, when determining other commits that are merged
in the same merge tree.

We further break the results, looking at the instances where
participants provided correct answers using both tools, incorrect
answers using both tools, or provided a correct and an incorrect answer.

\begin{center}
  \begin{tabular}{cc|rr}
                           &           & \multicolumn{2}{c}{Linvis}\\
                           &           & Correct                      & Incorrect\\\hline
    \multirow{2}{*}{Gitk}  & Correct   & 5                            & 0\\
                           & Incorrect & 14                           & 4\\
  \end{tabular}
\end{center}

A majority of the test instances provided an incorrect response with
Gitk, but corrected the response with \tool. Conversely, no incorrect
responses with \tool were corrected with the use of Gitk. The resulting
$\chi^2$ value is 14; $14 > 7.879$, therefore we reject the null
hypothesis that \tool does not make a difference in the correctness,
with $99.5\%$ confidence.

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/accuracy/q4.pdf}
  \caption{Accuracy comparison between Gitk and \tool, for determining
    other commits in the same merge tree.}
  \label{fig:q4_accuracy}
\end{figure}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/timing/q4.pdf}
  \caption{Time comparison between Gitk and \tool, for determining
    other commits in the same merge tree.}
  \label{fig:q4_timing}
\end{figure}

\subsubsection{How many authors are involved with this merge tree}
\label{ssub:how_many_authors_are_involved_with_this_merge_tree}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/correctness/question-5.pdf}
  \caption{Correctness of participants using \tool versus gitk when
    determining the number of authors involved in a merge tree}
  \label{fig:q_5_correctness}
\end{figure}

Looking at Figure~\ref{fig:q_5_correctness}, we are able to see that
there were more instances where participants provided the correct answer
to the number of authors involved in a merge tree when they were using
\tool versus gitk.


Further breaking this information we get the following results;

\begin{center}
  \begin{tabular}{cc|rr}
                           &           & \multicolumn{2}{c}{Linvis}\\
                           &           & Correct                      & Incorrect\\\hline
    \multirow{2}{*}{Gitk}  & Correct   & 5                            & 0\\
                           & Incorrect & 16                           & 2\\
  \end{tabular}
\end{center}

The majority of the test instances provide an incorrect response with
Gitk, but a correct response with \tool. No incorrect responses were
reported using \tool that were corrected with Gitk. The resulting
$\chi^2$ value is 16; $16 > 7.879$, therefore we reject the null
hypothesis that \tool does not make a difference in the correctness of
determining the number of authors involved in summarizing the number of
authors in a merge tree.

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/accuracy/q5.pdf}
  \caption{Accuracy comparison between Gitk and \tool, for answering how
  many authors were involved with a merge tree.}
  \label{fig:q5_accuracy}
\end{figure}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/timing/q5.pdf}
  \caption{Time comparison between Gitk and \tool, for answering how
  many authors were involved with a merge tree.}
  \label{fig:q5_timing}
\end{figure}


\subsubsection{Who contributed the most changes to this merge tree}
\label{ssub:who_contributed_the_most_changes_to_this_merge_tree}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/correctness/question-6.pdf}
  \caption{Correctness of participants using \tool versus gitk when
    determining who contributed the most changes to a merge tree}
  \label{fig:q_6_correctness}
\end{figure}

We are able to determine, in Figure~\ref{fig:q_6_correctness}, that
there were more instances of correct answers using \tool versus gitk
when answering who made the most changes in a merge tree.

Further breakdown of this information yielded the following results;

\begin{center}
  \begin{tabular}{cc|rr}
                           &           & \multicolumn{2}{c}{Linvis}\\
                           &           & Correct                      & Incorrect\\\hline
    \multirow{2}{*}{Gitk}  & Correct   & 8                            & 0\\
                           & Incorrect & 13                           & 2\\
  \end{tabular}
\end{center}

The majority of the test instances provide an incorrect response with
Gitk, but a correct response with \tool. No incorrect responses were
reported using \tool that were corrected with Gitk. The resulting
$\chi^2$ value is 13; $13 > 7.879$, therefore we reject the null
hypothesis that \tool does not make a difference in the correctness of
determining the author that contributed the most changes to files in a
merge tree.

There are no accuracy metrics for this question, as the answer is either
correct or incorrect.

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/timing/q6.pdf}
  \caption{Timing comparison between Gitk and \tool, for answering who
    contributed the most changes.}
  \label{fig:q6_timing}
\end{figure}

\subsubsection{How many files were modified in this merge tree}
\label{ssub:how_many_files_were_modified_in_this_merge_tree}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/correctness/question-7.pdf}
  \caption{Correctness of participants using \tool versus gitk when
    determining how many files were modified in a merge tree}
  \label{fig:q_7_correctness}
\end{figure}

In Figure~\ref{fig:q_7_correctness}, we see that there were more
instance of correct answers using \tool versus gitk when determining how
many files were modified in a merge tree.

\begin{center}
  \begin{tabular}{cc|rr}
                           &           & \multicolumn{2}{c}{Linvis}\\
                           &           & Correct                      & Incorrect\\\hline
    \multirow{2}{*}{Gitk}  & Correct   & 6                            & 0\\
                           & Incorrect & 15                           & 2\\
  \end{tabular}
\end{center}

The majority of the test instances provide an incorrect response with
Gitk, but a correct response with \tool. No incorrect responses were
reported using \tool that were corrected with Gitk. The resulting
$\chi^2$ value is 15; $15 > 7.879$, therefore we reject the null
hypothesis that \tool does not make a difference in the correctness of
in determining the number of files modified in a merge tree.

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/accuracy/q7.pdf}
  \caption{Accuracy comparison between Gitk and \tool, for answering how
  many files were involved with the merge tree.}
  \label{fig:q7_accuracy}
\end{figure}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/timing/q7.pdf}
  \caption{Timing comparison between Gitk and \tool, for answering how
    many files were involved with the merge tree.}
  \label{fig:q7_timing}
\end{figure}

\subsubsection{Which file had the most changes in this merge tree}
\label{ssub:which_file_had_the_most_changes_in_this_merge_tree}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/correctness/question-8.pdf}
  \caption{Correctness of participants using \tool versus gitk when
    determining which file(s) had the most changes a merge tree}
  \label{fig:q_8_correctness}
\end{figure}

In Figure~\ref{fig:q_8_correctness}, we see that there were more
instances of correct answers using \tool versus gitk when determining
which file had the most changes.

\begin{center}
  \begin{tabular}{cc|rr}
                           &           & \multicolumn{2}{c}{Linvis}\\
                           &           & Correct                      & Incorrect\\\hline
    \multirow{2}{*}{Gitk}  & Correct   & 6                            & 0\\
                           & Incorrect & 14                           & 3\\
  \end{tabular}
\end{center}

The resulting $\chi^2$ test value is 14; $14 > 7.879$, therefore we
reject the null hypothesis that \tool does not make a different in the
correctness of determining which files has the most changes in a merge
tree.

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/accuracy/q8.pdf}
  \caption{Accuracy comparison between Gitk and \tool, for answering
    which file had the most changes.}
  \label{fig:q8_accuracy}
\end{figure}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/timing/q8.pdf}
  \caption{Time comparison between Gitk and \tool, for answering which
    file had the most changes.}
  \label{fig:q8_timing}
\end{figure}

\subsubsection{Which modules were involved with this merge tree}
\label{ssub:which_modules_were_involved_with_this_merge_tree}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/correctness/question-9.pdf}
  \caption{Correctness of participants using \tool versus gitk when
    determining which modules were involved with a merge tree}
  \label{fig:q_9_correctness}
\end{figure}

In Figure~\ref{fig:q_9_correctness}, we see that while the number of
instances where the use of \tool resulted in correct results was higher
than the number of instances where the use of gitk resulted in correct
results, this is the only test where Gitk had more instances of a
correct result than instances of an incorrect result.

\begin{center}
  \begin{tabular}{cc|rr}
                            &           & \multicolumn{2}{c}{Linvis}\\
                            &           & Correct                      & Incorrect\\\hline
    \multirow{2}{*}{Gitk}   & Correct   & 14                           & 1\\
                            & Incorrect & 8                            & 0\\
  \end{tabular}
\end{center}

The resulting $\chi^2$ test value is $5.44$; $5.44 < 7.879$, therefore
we do not reject the null hypothesis, suggesting that \tool does not
make a difference in determining which modules are involved with a merge
tree.

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/accuracy/q9.pdf}
  \caption{Accuracy comparison between Gitk and \tool, for answering
    which modules were involved with a merge.}
  \label{fig:q9_accuracy}
\end{figure}

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/timing/q9.pdf}
  \caption{Time comparison between Gitk and \tool, for answering which
    modules were involved with a merge.}
  \label{fig:q9_timing}
\end{figure}

% Figure~\ref{fig:q9_accuracy}

\subsubsection{Combined Results}
\label{ssub:combined_results}

For each of the studies, we also tracked the number of people who gave
up on the question, stated that they made a random guess, or replied
with infinity. In other plots, all of these responses are either placed
in the correct or incorrect categories depending on the correctness of
the answer. In Figure~\ref{fig:summarization_correctness}, we show the
combined metrics across all questions, also showing the other
categories.

\begin{figure}[htpb]
  \centering
  \includegraphics[width=0.8\linewidth]{figures/userstudy/correctness/summarize_tool_outcomes.pdf}
  \caption{Correctness of participants across all summarization
    questions of participants using \tool versus gitk, including the
    number of instances of giving up on a task, making a random guess,
    or replying with infinity.}
  \label{fig:summarization_correctness}
\end{figure}


We further break the results into the number of instances where Gitk and
and \tool resulted in the correct result, where Gitk resulted in a
correct result while \tool resulted in an incorrect result, the
instances where \tool resulted in a correct result while Gitk resulted
in an incorrect result, and the instances where both resulted in an
incorrect result. This breakdown yields;

\begin{center}
  \begin{tabular}{cc|rr}
                          &           & \multicolumn{2}{c}{Linvis}\\
                          &           & Correct                      & Incorrect\\\hline
    \multirow{2}{*}{Gitk} & Correct   & 50                           & 1\\
                          & Incorrect & 95                           & 15\\
  \end{tabular}
\end{center}

The resulting $\chi^2$ statistic is $92.042$; $92.042 > 7.879$,
therefore we should reject the null hypothesis with $99.5\%$ confidence.
